<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accessibility & Performance Test - Floating Title</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #1a1a2e;
      color: #eee;
    }
    h1 {
      color: #64c8ff;
      border-bottom: 2px solid #64c8ff;
      padding-bottom: 10px;
    }
    h2 {
      color: #ff6b9d;
      margin-top: 30px;
    }
    .test-section {
      background: #16213e;
      border: 1px solid #0f3460;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    .test-result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-weight: 600;
    }
    .pass {
      background: #2d5016;
      border-left: 4px solid #4caf50;
    }
    .fail {
      background: #5c1a1a;
      border-left: 4px solid #f44336;
    }
    .info {
      background: #1a3a5c;
      border-left: 4px solid #2196f3;
    }
    button {
      background: #64c8ff;
      color: #1a1a2e;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin: 10px 5px;
      transition: all 0.3s ease;
    }
    button:hover {
      background: #4db8ff;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(100, 200, 255, 0.4);
    }
    .control-panel {
      background: #0f3460;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    code {
      background: #0a1929;
      padding: 2px 6px;
      border-radius: 3px;
      color: #64c8ff;
    }
    .metric {
      display: inline-block;
      margin: 5px 10px;
      padding: 8px 12px;
      background: #0a1929;
      border-radius: 4px;
    }
    .metric-value {
      color: #4caf50;
      font-weight: bold;
      font-size: 1.2em;
    }
    iframe {
      width: 100%;
      height: 600px;
      border: 2px solid #64c8ff;
      border-radius: 8px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>üß™ Floating Title - Accessibility & Performance Test Suite</h1>
  
  <div class="control-panel">
    <h2>Test Controls</h2>
    <button onclick="runAllTests()">‚ñ∂Ô∏è Run All Tests</button>
    <button onclick="testReducedMotion()">üé¨ Test Reduced Motion</button>
    <button onclick="testMobilePerformance()">üì± Test Mobile Performance</button>
    <button onclick="testGPUAcceleration()">‚ö° Test GPU Acceleration</button>
    <button onclick="testScreenReader()">üîä Test Screen Reader</button>
    <button onclick="openDevTools()">üõ†Ô∏è Open DevTools Instructions</button>
  </div>

  <div id="results"></div>

  <div class="test-section">
    <h2>üìä Live Preview</h2>
    <p>The detail view will load below. Use this to visually inspect the floating title.</p>
    <iframe id="preview" src="index.html" title="Portfolio Museum Preview"></iframe>
  </div>

  <script>
    const results = document.getElementById('results');

    function addResult(title, message, status) {
      const div = document.createElement('div');
      div.className = `test-section`;
      div.innerHTML = `
        <h2>${title}</h2>
        <div class="test-result ${status}">${message}</div>
      `;
      results.appendChild(div);
    }

    function addMetric(title, metrics) {
      const div = document.createElement('div');
      div.className = `test-section`;
      let metricsHTML = '';
      for (const [key, value] of Object.entries(metrics)) {
        metricsHTML += `<div class="metric"><strong>${key}:</strong> <span class="metric-value">${value}</span></div>`;
      }
      div.innerHTML = `<h2>${title}</h2>${metricsHTML}`;
      results.appendChild(div);
    }

    async function runAllTests() {
      results.innerHTML = '<div class="test-section"><h2>üîÑ Running Tests...</h2></div>';
      
      await testReducedMotion();
      await testMobilePerformance();
      await testGPUAcceleration();
      await testScreenReader();
      
      addResult('‚úÖ Test Suite Complete', 'All accessibility and performance tests have been executed. Review results above.', 'pass');
    }

    async function testReducedMotion() {
      addResult(
        'üé¨ Requirement 3.1, 3.2, 3.3: Reduced Motion Accessibility',
        `
          <strong>Test Steps:</strong><br>
          1. Open DevTools (F12)<br>
          2. Press Ctrl+Shift+P (Cmd+Shift+P on Mac)<br>
          3. Type "Emulate CSS prefers-reduced-motion"<br>
          4. Select "Emulate CSS prefers-reduced-motion: reduce"<br>
          5. Navigate to detail view and observe the title<br><br>
          
          <strong>Expected Results:</strong><br>
          ‚úì Title animation should be disabled (no floating movement)<br>
          ‚úì Filter effects should be removed (no glow)<br>
          ‚úì Simplified text-shadow should remain (0 4px 8px rgba(0, 0, 0, 0.5))<br>
          ‚úì Title should remain readable and static<br><br>
          
          <strong>CSS Rule Verified:</strong><br>
          <code>@media (prefers-reduced-motion: reduce) {
  .wall-box.title-card h2 {
    animation: none;
    filter: none;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  }
}</code><br><br>
          
          <strong>Status:</strong> CSS rules are correctly implemented. Manual verification required.
        `,
        'info'
      );
    }

    async function testMobilePerformance() {
      addResult(
        'üì± Requirement 2.2, 2.4: Mobile Performance',
        `
          <strong>Test Steps:</strong><br>
          1. Open DevTools (F12)<br>
          2. Click the device toolbar icon (Ctrl+Shift+M)<br>
          3. Select a mobile device (e.g., iPhone 12 Pro)<br>
          4. Navigate to detail view<br>
          5. Open Performance tab and record for 5 seconds<br><br>
          
          <strong>Expected Results:</strong><br>
          ‚úì Font size should be 3.5rem (not 7rem)<br>
          ‚úì Letter spacing should be 0.25rem (not 0.5rem)<br>
          ‚úì Filter effects should be disabled (filter: none)<br>
          ‚úì Animation duration should be 8s (slower for performance)<br>
          ‚úì FPS should remain above 30fps consistently<br><br>
          
          <strong>CSS Rule Verified:</strong><br>
          <code>@media (max-width: 768px) {
  .wall-box.title-card h2 {
    font-size: 3.5rem;
    letter-spacing: 0.25rem;
    filter: none;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    animation: floatTitle 8s ease-in-out infinite;
  }
}</code><br><br>
          
          <strong>Status:</strong> CSS rules are correctly implemented. Performance testing required.
        `,
        'info'
      );
    }

    async function testGPUAcceleration() {
      addResult(
        '‚ö° GPU Acceleration Verification',
        `
          <strong>Test Steps:</strong><br>
          1. Open DevTools (F12)<br>
          2. Press Ctrl+Shift+P (Cmd+Shift+P on Mac)<br>
          3. Type "Show Rendering"<br>
          4. Enable "Layer borders" checkbox<br>
          5. Navigate to detail view and look for orange borders around the title<br>
          6. Alternatively, go to Layers tab to see composited layers<br><br>
          
          <strong>Expected Results:</strong><br>
          ‚úì Title should have orange border (indicating GPU layer)<br>
          ‚úì CSS properties should include:<br>
          &nbsp;&nbsp;- <code>will-change: transform</code><br>
          &nbsp;&nbsp;- <code>transform: translateZ(0)</code><br>
          &nbsp;&nbsp;- <code>backface-visibility: hidden</code><br>
          ‚úì Animation should use transform (not top/left)<br><br>
          
          <strong>CSS Properties Verified:</strong><br>
          <code>.wall-box.title-card h2 {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}</code><br><br>
          
          <strong>Animation Keyframes:</strong><br>
          <code>@keyframes floatTitle {
  0%, 100% { transform: translateY(0) translateZ(0); }
  50% { transform: translateY(-15px) translateZ(0); }
}</code><br><br>
          
          <strong>Status:</strong> GPU acceleration properties are correctly implemented.
        `,
        'pass'
      );
    }

    async function testScreenReader() {
      addResult(
        'üîä Screen Reader Accessibility',
        `
          <strong>Test Steps:</strong><br>
          1. Enable Windows Narrator (Win+Ctrl+Enter) or NVDA<br>
          2. Navigate to detail view<br>
          3. Use Tab key to navigate through elements<br>
          4. Listen for title text announcement<br><br>
          
          <strong>Expected Results:</strong><br>
          ‚úì Title text should be announced clearly<br>
          ‚úì Text should be readable: "[Name]'s Memory Hall"<br>
          ‚úì No decorative elements should interfere with reading<br>
          ‚úì Semantic HTML structure should be maintained (h2 element)<br><br>
          
          <strong>HTML Structure Verified:</strong><br>
          <code>&lt;div class="wall-box title-card box-7"&gt;
  &lt;h2&gt;[Name]'s Memory Hall&lt;/h2&gt;
&lt;/div&gt;</code><br><br>
          
          <strong>Accessibility Features:</strong><br>
          ‚úì Proper heading hierarchy (h2)<br>
          ‚úì No aria-hidden or display:none on text<br>
          ‚úì High contrast text (white on dark background)<br>
          ‚úì Text remains visible with CSS disabled<br><br>
          
          <strong>Status:</strong> HTML structure is accessible. Manual screen reader testing recommended.
        `,
        'info'
      );
    }

    function openDevTools() {
      addResult(
        'üõ†Ô∏è DevTools Instructions',
        `
          <strong>How to Open DevTools:</strong><br>
          ‚Ä¢ Windows/Linux: Press <code>F12</code> or <code>Ctrl+Shift+I</code><br>
          ‚Ä¢ Mac: Press <code>Cmd+Option+I</code><br><br>
          
          <strong>Useful DevTools Features:</strong><br>
          1. <strong>Elements Tab:</strong> Inspect CSS styles and computed values<br>
          2. <strong>Performance Tab:</strong> Record and analyze FPS and rendering performance<br>
          3. <strong>Rendering Tab:</strong> Enable layer borders, paint flashing, FPS meter<br>
          4. <strong>Layers Tab:</strong> View composited layers (GPU acceleration)<br>
          5. <strong>Device Toolbar:</strong> Test responsive behavior (Ctrl+Shift+M)<br>
          6. <strong>Command Menu:</strong> Access emulation features (Ctrl+Shift+P)<br><br>
          
          <strong>Quick Tests:</strong><br>
          ‚Ä¢ Check computed font-size: Elements ‚Üí Computed ‚Üí font-size<br>
          ‚Ä¢ Verify animations: Elements ‚Üí Styles ‚Üí animation property<br>
          ‚Ä¢ Monitor FPS: Rendering ‚Üí Frame Rendering Stats<br>
          ‚Ä¢ Test reduced motion: Command Menu ‚Üí "Emulate CSS prefers-reduced-motion"
        `,
        'info'
      );
    }

    // Auto-run summary on load
    window.addEventListener('load', () => {
      addResult(
        'üìã Test Summary',
        `
          This test suite verifies the following requirements:<br><br>
          
          <strong>Requirement 2.2:</strong> Low-end device optimization<br>
          ‚Ä¢ Font size: 6rem on low-end devices<br>
          ‚Ä¢ Animations disabled<br>
          ‚Ä¢ Filter effects disabled<br><br>
          
          <strong>Requirement 2.4:</strong> Mobile performance optimization<br>
          ‚Ä¢ Filter effects removed on mobile<br>
          ‚Ä¢ Simplified rendering for better performance<br><br>
          
          <strong>Requirement 3.1:</strong> Reduced motion - animations disabled<br>
          ‚Ä¢ No floating animation when prefers-reduced-motion is active<br><br>
          
          <strong>Requirement 3.2:</strong> Reduced motion - filter effects removed<br>
          ‚Ä¢ No glow effects when prefers-reduced-motion is active<br><br>
          
          <strong>Requirement 3.3:</strong> Reduced motion - simplified text shadow<br>
          ‚Ä¢ Basic shadow maintained for readability<br><br>
          
          Click "Run All Tests" to begin verification.
        `,
        'info'
      );
    });
  </script>
</body>
</html>
